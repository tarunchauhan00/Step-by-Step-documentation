
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../authentication-roles/">
      
      
        <link rel="next" href="../supabase-schema/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>How Each Page Works - Step by Step App Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4-how-each-page-works" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Step by Step App Documentation" class="md-header__button md-logo" aria-label="Step by Step App Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Step by Step App Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How Each Page Works
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/CraftyCrow-Co/step-by-step-app" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHubUsername/step-by-step-app
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Step by Step App Documentation" class="md-nav__button md-logo" aria-label="Step by Step App Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Step by Step App Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CraftyCrow-Co/step-by-step-app" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHubUsername/step-by-step-app
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication-roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication & User Roles
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    How Each Page Works
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    How Each Page Works
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41-process-management" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Process Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1. Process Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411-addprocess-srcpagesaddprocesstsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1. AddProcess (src/pages/AddProcess.tsx)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-step-management" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Step Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2. Step Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-addstep-srcpagesaddsteptsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1. AddStep 
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-stepcreation-srcpagesstepcreationtsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2. StepCreation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-bulkaddflowchart-srcpagesbulkaddflowcharttsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3. BulkAddFlowchart 
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43-doer-end-user-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Doer (End-User) Workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3. Doer (End-User) Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-doersteplist-srcpagesdoerdoersteplisttsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1. DoerStepList
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-doerstepdetail-srcpagesdoerdoerstepdetailtsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2. DoerStepDetail 
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433-doersubmissiondetail-srcpagesdoerdoersubmissiondetailtsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3. DoerSubmissionDetail 
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44-report-page" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Report Page
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4. Report Page">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441-reportpage-srcpagesreportpagetsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1. ReportPage 
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../supabase-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supabase Schema & Client
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../styling-assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Styling & Static Assets
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#41-process-management" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Process Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1. Process Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411-addprocess-srcpagesaddprocesstsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1. AddProcess 
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#42-step-management" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Step Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2. Step Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-addstep-srcpagesaddsteptsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1. AddStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-stepcreation-srcpagesstepcreationtsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2. StepCreation 
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-bulkaddflowchart-srcpagesbulkaddflowcharttsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3. BulkAddFlowchart
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#43-doer-end-user-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Doer (End-User) Workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3. Doer (End-User) Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-doersteplist-srcpagesdoerdoersteplisttsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1. DoerStepList 
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-doerstepdetail-srcpagesdoerdoerstepdetailtsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2. DoerStepDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433-doersubmissiondetail-srcpagesdoerdoersubmissiondetailtsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3. DoerSubmissionDetail     </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#44-report-page" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Report Page
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4. Report Page">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441-reportpage-srcpagesreportpagetsx" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1. ReportPage 
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<!-- ### 3.9. Create `docs/pages-workflow.md`

```markdown -->
<h1 id="4-how-each-page-works">4. How Each Page Works<a class="headerlink" href="#4-how-each-page-works" title="Permanent link">&para;</a></h1>
<p>Below is a breakdown of each page/component, what it does, and how it interacts with Supabase or Google Forms.</p>
<hr />
<h2 id="41-process-management">4.1. Process Management<a class="headerlink" href="#41-process-management" title="Permanent link">&para;</a></h2>
<h3 id="411-addprocess-srcpagesaddprocesstsx">4.1.1. AddProcess (<code>src/pages/AddProcess.tsx</code>)<a class="headerlink" href="#411-addprocess-srcpagesaddprocesstsx" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose:</strong> Create a new Process using either a Google Form or a Crafty Form, and save the associated form metadata to the database.</li>
<li><strong>Inputs:</strong></li>
<li>Process Name  </li>
<li>Editor Emails (comma-separated)  </li>
<li>Form Type (Google Form / Crafty Form)  </li>
<li>Shared Form Link (Crafty only)</li>
<li><strong>Flow:</strong></li>
<li>User selects the form type (Google or Crafty).</li>
<li>On “Save,” check for a valid user session via Supabase Auth.</li>
<li>Insert a new record into the <code>processes</code> table with <code>name</code> and <code>user_id</code>.</li>
<li>If form type is <strong>Google</strong>:<ul>
<li>Call Netlify function to create a Google Form (requires <code>googleToken</code>).</li>
<li>Insert <code>google_form_id</code> and <code>google_form_url</code> into the <code>forms</code> table.</li>
<li>Open the Google Form editor in a new tab.</li>
</ul>
</li>
<li>If form type is <strong>Crafty</strong>:<ul>
<li>Open Crafty Form builder in a new tab.</li>
<li>Wait for user to input the shared form link.</li>
<li>Insert the form URL into the <code>forms</code> table.</li>
</ul>
</li>
<li>Redirect to <code>/process/:id/steps</code> after form association is complete.</li>
</ul>
<hr />
<h2 id="42-step-management">4.2. Step Management<a class="headerlink" href="#42-step-management" title="Permanent link">&para;</a></h2>
<h3 id="421-addstep-srcpagesaddsteptsx">4.2.1. AddStep (<code>src/pages/AddStep.tsx</code>)<a class="headerlink" href="#421-addstep-srcpagesaddsteptsx" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Purpose:</strong><br />
  This page lets you add a new Step to a Process or edit an existing Step. You choose one of three types—Status, Checklist, or Crafty Form—then fill in details like who is responsible, how long it should take, any dependencies, and whether to send alerts or reminders. If needed, you can also branch off into another Process based on a chosen status.</p>
</li>
<li>
<p><strong>Inputs:</strong>  </p>
</li>
<li>
<p><strong>URL Parameters &amp; Query Strings:</strong>  </p>
<ul>
<li><code>flowchartId</code>: which Process this Step belongs to.  </li>
<li><code>mode</code>: either <code>add</code> (to create a new Step) or <code>edit</code> (to change an existing one).  </li>
<li>When <code>mode=edit</code>, you also see <code>stepId</code> and <code>sequenceId</code> so the form knows which Step to load.</li>
</ul>
</li>
<li>
<p><strong>Basic Step Details:</strong>  </p>
<ul>
<li><strong>Step Name</strong> (text): the name of this Step.  </li>
<li><strong>Responsibility</strong> (text): who is responsible for completing it.  </li>
<li><strong>TAT (Turnaround Time)</strong>  </li>
<li>A number field (e.g., “3”) and a dropdown for the unit (minutes, hours, days, or weeks).  </li>
<li><strong>Dependency</strong> (optional text): if this Step waits for another Step, enter that here.  </li>
<li><strong>Step ID &amp; Sequence ID</strong> (read-only): automatically assigned when adding, or prefilled when editing.  </li>
<li><strong>Step Type</strong> (dropdown): pick one of three types—<code>status</code>, <code>checklist</code>, or <code>crafty</code>.</li>
</ul>
</li>
<li>
<p><strong>Start Timing:</strong>  </p>
<ul>
<li><strong>Immediate:</strong> Step starts as soon as you save.  </li>
<li><strong>Scheduled:</strong> choose a date &amp; time when the Step should begin.  </li>
<li>If you select “Scheduled,” a date/time picker appears for you to pick exactly when.</li>
</ul>
</li>
<li>
<p><strong>Status Step Configuration</strong> (only if you picked <strong>Status</strong>):  </p>
<ul>
<li><strong>Input Type</strong> (dropdown): choose how users will select a status—dropdown menu, radio buttons, or clickable buttons.  </li>
<li><strong>Statuses List:</strong> add as many status options as you want (for example, “Approved,” “Rejected,” “Needs Review”). For each:  </li>
<li><strong>Option Name</strong> (text)  </li>
<li><strong>Action</strong> (dropdown): choose what happens when someone picks this status:  <ul>
<li><strong>Next Step:</strong> automatically move to the next Step.  </li>
<li><strong>Stop Here:</strong> end the workflow at this status.  </li>
<li><strong>Split/Progress:</strong> branch into another Process. If you choose “Split/Progress,” two new dropdowns appear:  </li>
<li>Pick a <strong>Process</strong> to branch into (populated with all your Processes).  </li>
<li>Pick a <strong>Step</strong> inside that Process.<br />
   Once both are chosen, you’ll see something like “Step: [Step Name] in [Process Name]” to confirm.  </li>
</ul>
</li>
<li>Click <strong>+ Add Status</strong> to add another status option.</li>
</ul>
</li>
<li>
<p><strong>Checklist Step Configuration</strong> (only if you picked <strong>Checklist</strong>):  </p>
<ul>
<li><strong>Checklist Items:</strong> list each item that must be checked off (for example, “Gather Documents,” “Sign Form”). Each item has a text box; press Enter to add another blank item.  </li>
<li><strong>On Complete Action</strong> (dropdown): choose what happens when all items are checked:  </li>
<li><strong>Next Step</strong> (move on)  </li>
<li><strong>Stop Here</strong> (end workflow)  </li>
<li><strong>Split/Progress</strong> (branch into another Process)</li>
</ul>
</li>
<li>
<p><strong>Crafty Form Configuration</strong> (only if you picked <strong>Crafty</strong>):  </p>
<ul>
<li><strong>Open Crafty Builder</strong>: a button that opens an external form-building tool in a new tab.  </li>
<li><strong>Form URL</strong> (text): paste the link to the form you built.  </li>
<li><strong>On Submit Action</strong> (dropdown): choose what happens after someone submits that form:  </li>
<li><strong>Next Step</strong> (move on)  </li>
<li><strong>Stop Here</strong> (end workflow)  </li>
<li><strong>Split/Progress</strong> (branch into another Process)<br />
   <!-- - **Next Form** (go to another form immediately) --></li>
</ul>
</li>
<li>
<p><strong>Alerts &amp; Reminders</strong> (always visible):  </p>
<ul>
<li><strong>Alerts:</strong> you can add one or more alerts—each alert lets you choose the type (e.g., email or SMS), who it goes to, and when.  </li>
<li><strong>Reminders:</strong> you can add one or more reminders—each reminder lets you set how often to remind (e.g., “daily until done”) and who gets it.</li>
</ul>
</li>
<li>
<p><strong>Flow (What Happens When You Open &amp; Save This Page):</strong>  </p>
</li>
<li>
<p><strong>On Page Load:</strong>  </p>
<ul>
<li>If <code>mode=add</code>, the app fetches all existing Steps in this Process to figure out the next available Step ID and Sequence ID automatically.  </li>
<li>If <code>mode=edit</code>, the app loads that Step’s existing data (name, TAT, dependencies, statuses, checklist items, form URL, etc.) so all fields are pre-filled.</li>
</ul>
</li>
<li>
<p><strong>Fetch All Processes:</strong>  </p>
<ul>
<li>Right after loading, the app checks your login (via Supabase Auth).  </li>
<li>It then fetches all your Processes (and their Steps) so you can use them if you choose “Split/Progress” for any status.</li>
</ul>
</li>
<li>
<p><strong>Keep Status Input Type in Sync:</strong>  </p>
<ul>
<li>If you change the global Input Type (dropdown, radio, or button), all existing status options immediately update to use that same style.</li>
</ul>
</li>
<li>
<p><strong>User Fills In &amp; Edits Fields:</strong>  </p>
<ul>
<li>Enter Step Name, Responsibility, TAT, Dependency, and see the read-only Step ID/Sequence ID.  </li>
<li>Choose a Step Type—Status, Checklist, or Crafty—and configure that panel:  </li>
<li>For <strong>Status</strong>, add options and pick actions (Next, Stop, or Split). If you pick Split, choose a Process and a Step from that Process.  </li>
<li>For <strong>Checklist</strong>, type each checklist item and press Enter to add more. Then pick what happens when all items are done.  </li>
<li>For <strong>Crafty</strong>, click “Open Crafty Builder,” paste your form link, and pick what happens after someone submits.  </li>
<li>Always fill in any Alerts and Reminders you want to send.</li>
</ul>
</li>
<li>
<p><strong>Click “Save Step” or “Save as Draft”:</strong>  </p>
<ul>
<li>The app checks if you’re still logged in. If not, it shows an alert and stops.  </li>
<li>It builds a data object (payload) containing:  </li>
<li>Process ID, Step ID, Sequence ID, Step Name, TAT value &amp; unit, dependencies, responsibility, and a flag for “is draft.”  </li>
<li>Your user ID, Step Type, and timestamps for “started_at” (if Immediate) or “scheduled_at” (if Scheduled).  </li>
<li>If you chose Status, all statuses (including any Next Step or Split details).  </li>
<li>If you chose Checklist, all checklist items and the “On Complete” action.  </li>
<li>If you chose Crafty, the form URL and “On Submit” action.  </li>
<li>All Alerts and Reminders settings.  </li>
<li>If you’re editing, it calls Supabase’s <code>update</code> on the existing row in the <code>steps</code> table. On success, you see “Step updated successfully!”  </li>
<li>If you’re adding, it calls Supabase’s <code>insert</code> to create a new row in <code>steps</code>. On success, you see “Step created successfully!”  </li>
<li>Any Supabase error shows an alert with the error message.</li>
</ul>
</li>
<li>
<p><strong>Return to Previous Page:</strong>  </p>
<ul>
<li>After a successful save or update, the app calls <code>navigate(-1)</code> to go back to the list of Steps (or wherever you came from).</li>
</ul>
</li>
<li>
<p><strong>Helper Function (Time in IST):</strong>  </p>
</li>
<li>The function <code>getISTTimestamp()</code> takes either the current time or a chosen date/time, converts it to India Standard Time (+5:30), then formats it as <code>YYYY-MM-DD HH:mm:ss</code>. This is used for the “started_at” or “scheduled_at” timestamps when saving the Step.</li>
</ul>
<hr />
<h3 id="422-stepcreation-srcpagesstepcreationtsx">4.2.2. StepCreation (<code>src/pages/StepCreation.tsx</code>)<a class="headerlink" href="#422-stepcreation-srcpagesstepcreationtsx" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose:</strong> List &amp; manage all Steps for a Process.</li>
<li><strong>Features:</strong></li>
<li>Shows all <code>StepCard</code> components (sortable by due date)</li>
<li>Buttons: “Add Step,” “Bulk Edit,”</li>
<li>Clicking a <code>StepCard</code> → edit that Step</li>
</ul>
<h3 id="423-bulkaddflowchart-srcpagesbulkaddflowcharttsx">4.2.3. BulkAddFlowchart (<code>src/pages/BulkAddFlowchart.tsx</code>)<a class="headerlink" href="#423-bulkaddflowchart-srcpagesbulkaddflowcharttsx" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose:</strong> Display all Steps in a Process at once and allow adding, editing, or deleting them in bulk. New Steps can be added either “parallel” (same sequence, new ID) or “below” (both ID and sequence increment).</li>
<li><strong>Features:</strong></li>
<li>Fetch and list existing Steps (showing Step ID, Sequence ID, TAT, name, and responsibility).</li>
<li>Add a new parallel Step beside an existing one (same sequenceId, stepId + 1).</li>
<li>Add a new sequential Step below an existing one (sequenceId + 1, stepId + 1).</li>
<li>Edit any existing Step by navigating to the Add/Edit Step form with prefilled values.</li>
<li>Delete existing Steps (prompts confirmation, then removes from Supabase).</li>
<li>“Save All” button to batch-insert only newly added Steps (re-sequence them before inserting).</li>
<li>“Cancel” button to return without saving changes.  </li>
</ul>
<h2 id="43-doer-end-user-workflow">4.3. Doer (End-User) Workflow<a class="headerlink" href="#43-doer-end-user-workflow" title="Permanent link">&para;</a></h2>
<h3 id="431-doersteplist-srcpagesdoerdoersteplisttsx">4.3.1. DoerStepList (<code>src/pages/doer/DoerStepList.tsx</code>)<a class="headerlink" href="#431-doersteplist-srcpagesdoerdoersteplisttsx" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Purpose:</strong><br />
  Show all Steps assigned to the logged-in Doer, combining each Step with any form submissions. Allows searching, filtering, sorting, grouping, and basic actions like deleting or escalating a Step, sending an email/message, and navigating to a detailed view.</p>
</li>
<li>
<p><strong>Features:</strong>  </p>
</li>
<li>Fetches all active (not completed) Steps for the current user and any related form submissions, merging them into “virtual items.”  </li>
<li>Real-time subscription (via Supabase) to new Steps so the list updates automatically when someone inserts a new Step that belongs to the user.  </li>
<li><strong>Search Box:</strong> filter the list by typing part of the Step’s name.  </li>
<li><strong>Filter Menu:</strong>  <ul>
<li>“All Steps” (no filter)  </li>
<li>“TAT &lt; 10 hrs”  </li>
<li>“TAT ≥ 10 hrs”  </li>
</ul>
</li>
<li><strong>Sort Menu:</strong>  <ul>
<li>“No Sort”  </li>
<li>“TAT Ascending”  </li>
<li>“TAT Descending”  </li>
<li>“Sequence Ascending”  </li>
<li>“Sequence Descending”  </li>
</ul>
</li>
<li><strong>Group Menu:</strong>  <ul>
<li>“None” (show items in one list)  </li>
<li>“Process” (group by process name, with collapsible headers)  </li>
<li>“Data Points” (group by sequence_id, with collapsible headers)  </li>
</ul>
</li>
<li><strong>Three-Dot Menu on Each Card:</strong>  <ul>
<li><strong>Delete:</strong> remove either the Step (if there’s no submission) or the submission record. Shows a confirmation if deleting an existing Step.  </li>
</ul>
</li>
<li><strong>Escalate Action:</strong> set a Step’s <code>is_escalated</code> flag to true, with a popup alert on success.  </li>
<li><strong>Email/Message Modal:</strong> a pop-up form to enter a “To” address and message body, then send via a POST request to an external endpoint.  </li>
<li><strong>Clicking a Card:</strong> navigates to <code>/doer/step/{stepId}/submission/{submissionId}</code> for a detailed view.  </li>
<li><strong>Dropdowns Close When Clicking Outside:</strong> each of the Filter, Sort, and Group menus closes if you click anywhere else on the page.  </li>
<li><strong>Bottom-Right Icons (Optional):</strong> two floating buttons for quick access (e.g., a chat button and a help button).  </li>
</ul>
<h3 id="432-doerstepdetail-srcpagesdoerdoerstepdetailtsx">4.3.2. DoerStepDetail (<code>src/pages/doer/DoerStepDetail.tsx</code>)<a class="headerlink" href="#432-doerstepdetail-srcpagesdoerdoerstepdetailtsx" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose:</strong> Let the Doer fill out the Step’s form (custom or Google Form).</li>
<li><strong>Flow:</strong></li>
<li>Given <code>stepId</code>, fetch step metadata (title, description, due date).</li>
<li>If <code>form_schema_id</code> exists: render <code>FormSchemaRenderer</code> with that schema.</li>
<li>Else if <code>google_form_url</code> exists: embed the Google Form via iframe.</li>
<li>On form submission:<ul>
<li>Collect answers → insert into <code>form_responses</code>.</li>
<li>Update the Step’s <code>status</code> to <code>completed</code>.</li>
<li>Redirect to <code>DoerSubmissionDetail</code>.</li>
</ul>
</li>
</ul>
<h3 id="433-doersubmissiondetail-srcpagesdoerdoersubmissiondetailtsx">4.3.3. DoerSubmissionDetail (<code>src/pages/doer/DoerSubmissionDetail.tsx</code>)<a class="headerlink" href="#433-doersubmissiondetail-srcpagesdoerdoersubmissiondetailtsx" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose:</strong> Display a read-only view of the Doer’s submitted answers.</li>
<li><strong>Flow:</strong></li>
<li>Given <code>submissionId</code>, fetch response data from <code>form_responses</code>.</li>
<li>Iterate over each question + answer → render on screen.</li>
<li>Show timestamp and any admin feedback (if implemented).</li>
</ul>
<h2 id="44-report-page">4.4. Report Page<a class="headerlink" href="#44-report-page" title="Permanent link">&para;</a></h2>
<h3 id="441-reportpage-srcpagesreportpagetsx">4.4.1. ReportPage (<code>src/pages/ReportPage.tsx</code>)<a class="headerlink" href="#441-reportpage-srcpagesreportpagetsx" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Purpose:</strong><br />
  Provide a visual report of all Processes and their Steps, showing progress, durations, and statuses. Offers two main views—by Process (timeline format) and by Step (flat list)—and allows sorting, expanding/collapsing, and quick navigation from a step to its parent process.</p>
</li>
<li>
<p><strong>Features:</strong>  </p>
</li>
<li><strong>Data Fetching:</strong>  <ul>
<li>Retrieves all Processes for the current user, including each Process’s Steps and any form submissions.  </li>
<li>Loads real-time data in IST without timezone conversion errors (using <code>parseLocalDate</code> and <code>formatIST</code>).  </li>
</ul>
</li>
<li><strong>Two View Modes:</strong>  <ol>
<li><strong>By Process (Timeline):</strong>  </li>
<li>Displays each Process as a timeline entry with:  <ul>
<li><strong>Date Cell:</strong> shows the earliest start time among its Steps (with a clock icon).  </li>
<li><strong>Progress Card:</strong>  </li>
<li>Process name, a collapse/expand button (chevrons)  </li>
<li>Three tags showing total Steps, total data points (form submissions), and total TAT (in hours).  </li>
<li>A horizontal progress bar indicating % of Steps completed.  </li>
<li>When expanded, a list of all Steps for that Process, each with:  <ul>
<li>A colored “status pill” (Pending/In Progress/Completed).  </li>
<li>Start time (formatted) or “—” if not started.  </li>
<li>Duration (“Xh Ym”) from start to completion or to now.  </li>
<li>Overdue indicator if duration exceeds TAT (“• Overdue Xh Ym”).  </li>
</ul>
</li>
</ul>
</li>
<li><strong>By Step (Flat List):</strong>  </li>
<li>Flattens all Steps across all Processes into one list.  </li>
<li>Each Step item shows:  <ul>
<li>“ProcessName: StepName” (bold), a status pill, and an arrow button to scroll the timeline view to that Process.  </li>
<li>Status sequence (if any), e.g., “Approved → Completed” or “No statuses.”  </li>
<li>Start time (or “—”) and duration/overdue info.  </li>
</ul>
</li>
</ol>
</li>
<li><strong>Sorting Controls:</strong>  <ul>
<li>Toggle between “Oldest first” and “Newest first” for Processes. Affects both data fetch order and the timeline.  </li>
</ul>
</li>
<li><strong>Expand/Collapse State:</strong>  <ul>
<li>Tracks which Process cards are expanded (via a <code>Set&lt;string&gt;</code>).  </li>
<li>Clicking the chevron toggles showing/hiding that Process’s Steps.  </li>
</ul>
</li>
<li><strong>Smooth Scrolling:</strong>  <ul>
<li>When in Step view, clicking the arrow next to a Step scrolls the Process view into center focus (by setting <code>focusProcess</code> and using <code>ref.scrollIntoView</code>).  </li>
</ul>
</li>
<li><strong>Status Pill Rendering:</strong>  <ul>
<li>For each Step, determines its status:  </li>
<li><strong>Completed</strong> (if <code>completed_at</code> is set)  </li>
<li><strong>In Progress</strong> (if <code>started_at</code> set but not completed)  </li>
<li><strong>Pending</strong> (otherwise)  </li>
<li>Chooses pill background/foreground colors via <code>statusColors()</code>.  </li>
</ul>
</li>
<li><strong>Duration &amp; Overdue Calculation:</strong>  <ul>
<li>Converts TAT units (<code>mins</code>, <code>hrs</code>, <code>days</code>, <code>weeks</code>) to hours using <code>toHours()</code>.  </li>
<li>Computes actual time difference between <code>started_at</code> and <code>completed_at</code> (or now) in milliseconds, then formats as “Xh Ym” via <code>formatDuration()</code>.  </li>
<li>Shows “• Overdue Xh Ym” if actual duration exceeds expected TAT.  </li>
</ul>
</li>
<li><strong>Collapsible Process Entries:</strong>  <ul>
<li>Each Process entry has a vertical timeline line, a date cell, and a card.  </li>
<li>Inside the card, shows tags, progress bar, and optionally the Step list when expanded.  </li>
</ul>
</li>
<li><strong>Inline Styles &amp; Icons:</strong>  <ul>
<li>Uses React Icons (Clock, Chevron, ArrowRight) for visual cues.  </li>
<li>Inline <code>styles</code> object defines layout, typography, colors, tags, buttons, progress bar, and step list styles.  </li>
</ul>
</li>
<li><strong>Loading State:</strong>  <ul>
<li>While data is fetching, displays “Loading…”.  </li>
</ul>
</li>
<li><strong>Responsive Behavior:</strong>  <ul>
<li>Scrolls to a Process card when <code>focusProcess</code> changes.  </li>
<li>Ensures the UI remains consistent whether viewing by Process or by Step.  </li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>
